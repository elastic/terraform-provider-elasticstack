---
subcategory: "Enrich"
page_title: "elasticstack_elasticsearch_enrich_policy Data Source - terraform-provider-elasticstack"
description: |-
  Returns information about an enrich policy. See: https://www.elastic.co/guide/en/elasticsearch/reference/current/get-enrich-policy-api.html
---

# Data Source: elasticstack_elasticsearch_enrich_policy

Returns information about an enrich policy. See: https://www.elastic.co/guide/en/elasticsearch/reference/current/get-enrich-policy-api.html

## Example Usage

```terraform
provider "elasticstack" {
  elasticsearch {}
}

resource "elasticstack_elasticsearch_index" "my_index" {
  name = "my-index"

  mappings = jsonencode({
    properties = {
      email      = { type = "text" }
      first_name = { type = "text" }
      last_name  = { type = "text" }
    }
  })
  deletion_protection = false
}

resource "elasticstack_elasticsearch_enrich_policy" "policy1" {
  name          = "policy1"
  policy_type   = "match"
  indices       = [elasticstack_elasticsearch_index.my_index.name]
  match_field   = "email"
  enrich_fields = ["first_name", "last_name"]
  query = jsonencode({
    bool = {
      must     = [{ term = { b = "A" } }]
      must_not = [{ term = { a = "B" } }]
    }
  })
}

data "elasticstack_elasticsearch_enrich_policy" "policy" {
  name = "policy1"
}

output "name" {
  value = data.elasticstack_elasticsearch_enrich_policy.policy.name
}
output "match_field" {
  value = data.elasticstack_elasticsearch_enrich_policy.policy.match_field
}
output "indices" {
  value = data.elasticstack_elasticsearch_enrich_policy.policy.indices
}
output "policy_type" {
  value = data.elasticstack_elasticsearch_enrich_policy.policy.policy_type
}
output "enrich_fields" {
  value = data.elasticstack_elasticsearch_enrich_policy.policy.enrich_fields
}
output "query" {
  value = jsondecode(data.elasticstack_elasticsearch_enrich_policy.policy.query)
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the policy.

### Read-Only

- `enrich_fields` (Set of String) Fields to add to matching incoming documents. These fields must be present in the source indices.
- `id` (String) Internal identifier of the resource
- `indices` (Set of String) Array of one or more source indices used to create the enrich index.
- `match_field` (String) Field in source indices used to match incoming documents.
- `policy_type` (String) The type of enrich policy, can be one of geo_match, match, range.
- `query` (String) Query used to filter documents in the enrich index. The policy only uses documents matching this query to enrich incoming documents. Defaults to a match_all query.
