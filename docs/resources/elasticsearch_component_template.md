---
subcategory: "Index"
layout: ""
page_title: "Elasticstack: elasticstack_elasticsearch_component_template Resource"
description: |-
  Creates or updates a component template.
---

# Resource: elasticstack_elasticsearch_component_template

Creates or updates a component template. Component templates are building blocks for constructing index templates that specify index mappings, settings, and aliases. See, https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-component-template.html

## Example Usage

```terraform
provider "elasticstack" {
  elasticsearch {}
}

resource "elasticstack_elasticsearch_component_template" "my_template" {
  name = "my_template"

  template {
    aliases {
      name = "my_template_test"
    }

    settings = jsonencode({
      number_of_shards = "3"
    })
  }
}

resource "elasticstack_elasticsearch_index_template" "my_template" {
  name = "my_data_stream"

  index_patterns = ["stream*"]
  composed_of    = [elasticstack_elasticsearch_component_template.my_template.name]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the component template to create.
- `template` (Block List, Min: 1, Max: 1) Template to be applied. It may optionally include an aliases, mappings, or settings configuration. (see [below for nested schema](#nestedblock--template))

### Optional

- `elasticsearch_connection` (Block List, Max: 1) Used to establish connection to Elasticsearch server. Overrides environment variables if present. (see [below for nested schema](#nestedblock--elasticsearch_connection))
- `metadata` (String) Optional user metadata about the component template.
- `version` (Number) Version number used to manage component templates externally.

### Read-Only

- `id` (String) Internal identifier of the resource

<a id="nestedblock--template"></a>
### Nested Schema for `template`

Optional:

- `alias` (Block Set) Alias to add. (see [below for nested schema](#nestedblock--template--alias))
- `mappings` (String) Mapping for fields in the index.
- `settings` (String) Configuration options for the index. See, https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#index-modules-settings

<a id="nestedblock--template--alias"></a>
### Nested Schema for `template.alias`

Required:

- `name` (String) The alias name. Index alias names support date math. See, https://www.elastic.co/guide/en/elasticsearch/reference/current/date-math-index-names.html

Optional:

- `filter` (String) Query used to limit documents the alias can access.
- `index_routing` (String) Value used to route indexing operations to a specific shard. If specified, this overwrites the routing value for indexing operations.
- `is_hidden` (Boolean) If true, the alias is hidden.
- `is_write_index` (Boolean) If true, the index is the write index for the alias.
- `routing` (String) Value used to route indexing and search operations to a specific shard.
- `search_routing` (String) Value used to route search operations to a specific shard. If specified, this overwrites the routing value for search operations.



<a id="nestedblock--elasticsearch_connection"></a>
### Nested Schema for `elasticsearch_connection`

Optional:

- `api_key` (String, Sensitive) API Key to use for authentication to Elasticsearch
- `ca_data` (String) PEM-encoded custom Certificate Authority certificate
- `ca_file` (String) Path to a custom Certificate Authority certificate
- `endpoints` (List of String, Sensitive) A list of endpoints the Terraform provider will point to. They must include the http(s) schema and port number.
- `insecure` (Boolean) Disable TLS certificate validation
- `password` (String, Sensitive) A password to use for API authentication to Elasticsearch.
- `username` (String) A username to use for API authentication to Elasticsearch.

## Import

Import is supported using the following syntax:

```shell
terraform import elasticstack_elasticsearch_component_template.my_template <cluster_uuid>/<component_name>
```
