---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "elasticstack_kibana_security_exception_item Resource - terraform-provider-elasticstack"
subcategory: "Kibana"
description: |-
  Creates and manages Kibana exception items. Exception items define the query (fields, values, and logic) used to prevent rules from generating alerts. See the exceptions API documentation https://www.elastic.co/guide/en/security/current/exceptions-api-overview.html for more details.
---

# elasticstack_kibana_security_exception_item (Resource)

Creates and manages Kibana exception items. Exception items define the query (fields, values, and logic) used to prevent rules from generating alerts. See the [exceptions API documentation](https://www.elastic.co/guide/en/security/current/exceptions-api-overview.html) for more details.

## Example Usage

```terraform
provider "elasticstack" {
  kibana {}
}

# Create exception container first
resource "elasticstack_kibana_security_exception_container" "container" {
  list_id     = "my-exception-list"
  name        = "My Exception Container"
  description = "Container for exception items"
  type        = "detection"
}

# Basic exception item
resource "elasticstack_kibana_security_exception_item" "example" {
  list_id     = elasticstack_kibana_security_exception_container.container.list_id
  name        = "Exception for trusted IP"
  description = "Exclude trusted IP addresses from alerts"
  entries     = jsonencode([
    {
      field    = "source.ip"
      operator = "included"
      type     = "match"
      value    = "192.168.1.1"
    }
  ])

  kibana_connection {
    endpoints = ["http://localhost:5601"]
    username  = "elastic"
    password  = "changeme"
  }

  depends_on = [elasticstack_kibana_security_exception_container.container]
}

# Exception item with expiration time and comments
resource "elasticstack_kibana_security_exception_item" "with_expiry" {
  list_id     = "my-exception-list"
  item_id     = "temporary-exception"
  name        = "Temporary Exception"
  description = "Exception item with expiration date"
  entries     = jsonencode([
    {
      field    = "source.ip"
      operator = "included"
      type     = "match"
      value    = "10.0.0.1"
    }
  ])
  expire_time = "2025-12-31T23:59:59Z"
  comments    = jsonencode([
    {
      comment = "This exception is temporary and will expire at end of year"
    }
  ])
  tags        = ["temporary", "trusted-ip"]
  os_types    = ["linux", "macos"]

  depends_on = [elasticstack_kibana_security_exception_container.container]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `description` (String) Describes the exception item.
- `entries` (String) The query (fields, values, and logic) used to prevent rules from generating alerts. Must be a JSON array of exception entry objects.
- `list_id` (String) The exception list's human readable string identifier that this item belongs to.
- `name` (String) Exception item name.

### Optional

- `comments` (String) Array of comment objects. Must be a JSON array of comment objects with a `comment` field.
- `expire_time` (String) The exception item's expiration date, in ISO format. This field is only available for regular exception items, not endpoint exceptions.
- `item_id` (String) Human readable string identifier for the exception item, e.g. `my-exception-item`.
- `kibana_connection` (Block List) Kibana connection configuration block. (see [below for nested schema](#nestedblock--kibana_connection))
- `namespace_type` (String) Determines whether the exception item is available in all Kibana spaces or just the space in which it is created. Values: `single` (only available in the space in which it is created) or `agnostic` (available in all Kibana spaces).
- `os_types` (List of String) Use this field to specify the operating system. Valid values: linux, macos, windows.
- `space_id` (String) An identifier for the space. If space_id is not provided, the default space is used.
- `tags` (List of String) String array containing words and phrases to help categorize exception items.
- `type` (String) The type of exception item. Currently only `simple` is supported.

### Read-Only

- `id` (String) Internal identifier of the resource

<a id="nestedblock--kibana_connection"></a>
### Nested Schema for `kibana_connection`

Optional:

- `api_key` (String, Sensitive) API Key to use for authentication to Kibana
- `ca_certs` (List of String) A list of paths to CA certificates to validate the certificate presented by the Kibana server.
- `endpoints` (List of String, Sensitive) A comma-separated list of endpoints where the terraform provider will point to, this must include the http(s) schema and port number.
- `insecure` (Boolean) Disable TLS certificate validation
- `password` (String, Sensitive) Password to use for API authentication to Kibana.
- `username` (String) Username to use for API authentication to Kibana.
