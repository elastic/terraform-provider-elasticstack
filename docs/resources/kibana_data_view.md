---
subcategory: "Kibana"
layout: ""
page_title: "Elasticstack: elasticstack_kibana_data_view Resource"
description: |-
  Manages Kibana data views.
---

# Resource: elasticstack_kibana_data_view

Creates and manages Kibana [data views](https://www.elastic.co/guide/en/kibana/current/data-views-api.html)

## Example Usage

```terraform
provider "elasticstack" {
  elasticsearch {}
  kibana {}
}

resource "elasticstack_kibana_data_view" "my_data_view" {
  data_view = {
    name            = "logs-*"
    title           = "logs-*"
    time_field_name = "@timestamp"
    namespaces      = ["backend"]
  }
}

resource "elasticstack_kibana_data_view" "custom_fields_data_view" {
  data_view = {
    name            = "custom-data-view"
    id              = "custom-data-view"
    title           = "logs-*"
    time_field_name = "@timestamp"
    namespaces      = ["default"]
    field_formats = {
      "host.uptime" = {
        id = "duration"
        params = {
          input_format              = "hours"
          output_format             = "humanizePrecise"
          output_precision          = 2
          include_space_with_suffix = true
          use_short_suffix          = true
        }
      }
      "user.last_password_change" = {
        id     = "relative_date"
        params = {}
      }
      "user.last_login" = {
        id = "date"
        params = {
          pattern  = "MMM D, YYYY @ HH:mm:ss.SSS"
          timezone = "America/New_York"
        }
      }
      "user.is_active" = {
        id     = "boolean"
        params = {}
      }
      "user.status" = {
        id = "color"
        params = {
          field_type = "string"
          colors = [
            {
              range      = "-Infinity:Infinity"
              regex      = "inactive*"
              text       = "#000000"
              background = "#ffffff"
            }
          ]
        }
      }
      "user.message" = {
        id = "truncate"
        params = {
          field_length = 10
        }
      }
      "host.name" = {
        id = "string"
        params = {
          transform = "upper"
        }
      }
      "response.code" = {
        id = "static_lookup"
        params = {
          lookup_entries = [
            {
              key   = "200"
              value = "OK"
            },
            {
              key   = "404"
              value = "Not Found"
            }
          ]
          unknown_key_value = "Unknown"
        }
      }
      "url.original" = {
        id = "url"
        params = {
          type          = "a"
          urltemplate   = "https://test.com/{{value}}"
          labeltemplate = "{{value}}"
        }
      }
      "user.profile_picture" = {
        id = "url"
        params = {
          type          = "img"
          urltemplate   = "https://test.com/{{value}}"
          labeltemplate = "{{value}}"
          width         = 6
          height        = 4
        }
      }
      "user.answering_message" = {
        id = "url"
        params = {
          type          = "audio"
          urltemplate   = "https://test.com/{{value}}"
          labeltemplate = "{{value}}"
        }
      }
    }
    field_attrs = {
      "response.code" = {
        custom_label = "Response Code"
        count        = 0
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `data_view` (Attributes) (see [below for nested schema](#nestedatt--data_view))

### Optional

- `override` (Boolean) Overrides an existing data view if a data view with the provided title already exists.
- `space_id` (String) An identifier for the space. If space_id is not provided, the default space is used.

### Read-Only

- `id` (String) Generated ID for the data view.

<a id="nestedatt--data_view"></a>
### Nested Schema for `data_view`

Required:

- `title` (String) Comma-separated list of data streams, indices, and aliases that you want to search. Supports wildcards (*).

Optional:

- `allow_no_index` (Boolean) Allows the Data view saved object to exist before the data is available.
- `field_attrs` (Attributes Map) Map of field attributes by field name. (see [below for nested schema](#nestedatt--data_view--field_attrs))
- `field_formats` (Attributes Map) Map of field formats by field name. (see [below for nested schema](#nestedatt--data_view--field_formats))
- `id` (String) Saved object ID.
- `name` (String) The Data view name.
- `namespaces` (List of String) Array of space IDs for sharing the Data view between multiple spaces.
- `runtime_field_map` (Attributes Map) Map of runtime field definitions by field name. (see [below for nested schema](#nestedatt--data_view--runtime_field_map))
- `source_filters` (List of String) List of field names you want to filter out in Discover.
- `time_field_name` (String) Timestamp field name, which you use for time-based Data views.

<a id="nestedatt--data_view--field_attrs"></a>
### Nested Schema for `data_view.field_attrs`

Optional:

- `count` (Number) Popularity count for the field.
- `custom_label` (String) Custom label for the field.


<a id="nestedatt--data_view--field_formats"></a>
### Nested Schema for `data_view.field_formats`

Required:

- `id` (String) The ID of the field format. Valid values include: `boolean`, `color`, `date`, `duration`, `number`, `percent`, `relative_date`, `static_lookup`, `string`, `truncate`, `url`.

Optional:

- `params` (Attributes) (see [below for nested schema](#nestedatt--data_view--field_formats--params))

<a id="nestedatt--data_view--field_formats--params"></a>
### Nested Schema for `data_view.field_formats.params`

Optional:

- `colors` (Attributes List) Color rules for the field. (see [below for nested schema](#nestedatt--data_view--field_formats--params--colors))
- `field_length` (Number) Length to truncate the field value.
- `field_type` (String) Field type for color formatting (e.g., `string`, `number`).
- `height` (Number) Height for image type URLs.
- `include_space_with_suffix` (Boolean) Whether to include a space before the suffix in duration format.
- `input_format` (String) Input format for duration fields (e.g., `hours`, `minutes`).
- `labeltemplate` (String) Label template for the field value.
- `lookup_entries` (Attributes List) Key-value pairs for static lookup. (see [below for nested schema](#nestedatt--data_view--field_formats--params--lookup_entries))
- `output_format` (String) Output format for duration fields (e.g., `humanizePrecise`, `humanize`).
- `output_precision` (Number) Precision for duration output.
- `pattern` (String) Pattern for formatting the field value.
- `timezone` (String) Timezone for date formatting (e.g., `America/New_York`).
- `transform` (String) Transform to apply to string fields (e.g., `upper`, `lower`).
- `type` (String) Type of URL format (e.g., `a`, `img`, `audio`).
- `unknown_key_value` (String) Value to display when key is not found in lookup.
- `urltemplate` (String) URL template for the field value.
- `use_short_suffix` (Boolean) Whether to use short suffixes in duration format.
- `width` (Number) Width for image type URLs.

<a id="nestedatt--data_view--field_formats--params--colors"></a>
### Nested Schema for `data_view.field_formats.params.colors`

Optional:

- `background` (String) Background color in hex format.
- `range` (String) Range for the color rule (e.g., `-Infinity:Infinity`).
- `regex` (String) Regex pattern for the color rule.
- `text` (String) Text color in hex format.


<a id="nestedatt--data_view--field_formats--params--lookup_entries"></a>
### Nested Schema for `data_view.field_formats.params.lookup_entries`

Required:

- `key` (String) Key for the lookup entry.
- `value` (String) Value for the lookup entry.




<a id="nestedatt--data_view--runtime_field_map"></a>
### Nested Schema for `data_view.runtime_field_map`

Required:

- `script_source` (String) Script of the runtime field.
- `type` (String) Mapping type of the runtime field. For more information, check [Field data types](https://www.elastic.co/guide/en/elasticsearch/reference/8.11/mapping-types.html).

## Import

Import is supported using the following syntax:

```shell
terraform import elasticstack_kibana_data_view.my_data_view <space id>/<data view id>
```
