---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "elasticstack_elasticsearch_index_template Resource - terraform-provider-elasticstack"
subcategory: "Index"
description: |-
  Creates or updates an index template. Index templates define settings, mappings, and aliases that can be applied automatically to new indices. See, https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-template.html
---

# elasticstack_elasticsearch_index_template (Resource)

Creates or updates an index template. Index templates define settings, mappings, and aliases that can be applied automatically to new indices. See, https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-template.html

## Example Usage

```terraform
provider "elasticstack" {
  elasticsearch {}
}

resource "elasticstack_elasticsearch_index_template" "my_template" {
  name = "my_template"

  priority       = 42
  index_patterns = ["logstash*", "filebeat*"]

  template {
    alias {
      name = "my_template_test"
    }
    alias {
      name = "another_test"
    }

    settings = jsonencode({
      number_of_shards = "3"
    })
  }
}

resource "elasticstack_elasticsearch_index_template" "my_data_stream" {
  name = "my_data_stream"

  index_patterns = ["stream*"]
  data_stream {}
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `index_patterns` (Set of String) Array of wildcard (*) expressions used to match the names of data streams and indices during creation.
- `name` (String) Name of the index template to create.

### Optional

- `composed_of` (List of String) An ordered list of component template names.
- `data_stream` (Block List, Max: 1) If this object is included, the template is used to create data streams and their backing indices. Supports an empty object. (see [below for nested schema](#nestedblock--data_stream))
- `elasticsearch_connection` (Block List, Max: 1, Deprecated) Elasticsearch connection configuration block. This property will be removed in a future provider version. Configure the Elasticsearch connection via the provider configuration instead. (see [below for nested schema](#nestedblock--elasticsearch_connection))
- `ignore_missing_component_templates` (List of String) A list of component template names that are ignored if missing.
- `metadata` (String) Optional user metadata about the index template.
- `priority` (Number) Priority to determine index template precedence when a new data stream or index is created.
- `template` (Block List, Max: 1) Template to be applied. It may optionally include an aliases, mappings, lifecycle, or settings configuration. (see [below for nested schema](#nestedblock--template))
- `version` (Number) Version number used to manage index templates externally.

### Read-Only

- `id` (String) Internal identifier of the resource

<a id="nestedblock--data_stream"></a>
### Nested Schema for `data_stream`

Optional:

- `allow_custom_routing` (Boolean) If `true`, the data stream supports custom routing. Defaults to `false`. Available only in **8.x**
- `hidden` (Boolean) If true, the data stream is hidden.


<a id="nestedblock--elasticsearch_connection"></a>
### Nested Schema for `elasticsearch_connection`

Optional:

- `api_key` (String, Sensitive) API Key to use for authentication to Elasticsearch
- `bearer_token` (String, Sensitive) Bearer Token to use for authentication to Elasticsearch
- `ca_data` (String) PEM-encoded custom Certificate Authority certificate
- `ca_file` (String) Path to a custom Certificate Authority certificate
- `cert_data` (String) PEM encoded certificate for client auth
- `cert_file` (String) Path to a file containing the PEM encoded certificate for client auth
- `endpoints` (List of String, Sensitive) A list of endpoints where the terraform provider will point to, this must include the http(s) schema and port number.
- `es_client_authentication` (String, Sensitive) ES Client Authentication field to be used with the JWT token
- `headers` (Map of String, Sensitive) A list of headers to be sent with each request to Elasticsearch.
- `insecure` (Boolean) Disable TLS certificate validation
- `key_data` (String, Sensitive) PEM encoded private key for client auth
- `key_file` (String) Path to a file containing the PEM encoded private key for client auth
- `password` (String, Sensitive) Password to use for API authentication to Elasticsearch.
- `username` (String) Username to use for API authentication to Elasticsearch.


<a id="nestedblock--template"></a>
### Nested Schema for `template`

Optional:

- `alias` (Block Set) Alias to add. (see [below for nested schema](#nestedblock--template--alias))
- `lifecycle` (Block Set, Max: 1) Lifecycle of data stream. See, https://www.elastic.co/guide/en/elasticsearch/reference/current/data-stream-lifecycle.html (see [below for nested schema](#nestedblock--template--lifecycle))
- `mappings` (String) Mapping for fields in the index. Should be specified as a JSON object of field mappings. See the documentation (https://www.elastic.co/guide/en/elasticsearch/reference/current/explicit-mapping.html) for more details
- `settings` (String) Configuration options for the index. See, https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#index-modules-settings

<a id="nestedblock--template--alias"></a>
### Nested Schema for `template.alias`

Required:

- `name` (String) The alias name.

Optional:

- `filter` (String) Query used to limit documents the alias can access.
- `index_routing` (String) Value used to route indexing operations to a specific shard. If specified, this overwrites the `routing` value for indexing operations.
- `is_hidden` (Boolean) If true, the alias is hidden.
- `is_write_index` (Boolean) If true, the index is the write index for the alias.
- `routing` (String) Value used to route indexing and search operations to a specific shard.
- `search_routing` (String) Value used to route search operations to a specific shard. If specified, this overwrites the routing value for search operations.


<a id="nestedblock--template--lifecycle"></a>
### Nested Schema for `template.lifecycle`

Required:

- `data_retention` (String) The retention period of the data indexed in this data stream.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import elasticstack_elasticsearch_index_template.my_template <cluster_uuid>/<template_name>
```
