---
subcategory: "Kibana"
layout: ""
page_title: "Elasticstack: elasticstack_apm_agent_configuration Resource"
description: |-
  Creates or updates an APM agent configuration
---

# Resource: elasticstack_apm_agent_configuration

Creates or updates an APM agent configuration. See https://www.elastic.co/docs/solutions/observability/apm/apm-agent-central-configuration

## Example Usage

```terraform
provider "elasticstack" {
  elasticsearch {}
}

resource "elasticstack_apm_agent_configuration" "test_config" {
  service_name        = "my-service"
  service_environment = "production"
  agent_name          = "go"
  settings = {
    "transaction_sample_rate" = "0.5"
    "capture_body"            = "all"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `service_name` (String) The name of the service.
- `settings` (Map of String) Agent configuration settings.

### Optional

- `agent_name` (String) The agent name is used by the UI to determine which settings to display.
- `service_environment` (String) The environment of the service.

### Read-Only

- `id` (String) Internal identifier of the resource.

## Import

Import is supported using the following syntax:

```shell
terraform import elasticstack_apm_agent_configuration.test_configuration my-service:production
```
