---
subcategory: "Watcher"
layout: ""
page_title: "Elasticstack: elasticstack_elasticsearch_watch Resource"
description: |-
  Adds and manages a Watch.
---

# Resource: elasticstack_elasticsearch_watch

Adds and manages a Watch. See: https://www.elastic.co/guide/en/elasticsearch/reference/current/watcher-api.html

## Example Usage

```terraform
provider "elasticstack" {
  elasticsearch {}
}

resource "elasticstack_elasticsearch_watch" "example" {
  watch_id = "test_watch"
  active   = true

  trigger = jsonencode({
    "schedule" = {
      "cron" = "0 0/1 * * * ?"
    }
  })
  input = jsonencode({
    "none" = {}
  })
  condition = jsonencode({
    "always" = {}
  })
  actions = jsonencode({})
  metadata = jsonencode({
    "example_key" = "example_value"
  })
  throttle_period_in_millis = 10000
}

output "watch" {
  value = elasticstack_elasticsearch_watch.example.watch_id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `trigger` (String) The trigger that defines when the watch should run.
- `watch_id` (String) Identifier for the watch.

### Optional

- `actions` (String) The list of actions that will be run if the condition matches.
- `active` (Boolean) Defines whether the watch is active or inactive by default. The default value is true, which means the watch is active by default.
- `condition` (String) The condition that defines if the actions should be run.
- `input` (String) The input that defines the input that loads the data for the watch.
- `metadata` (String) Metadata json that will be copied into the history entries.
- `throttle_period_in_millis` (Number) Minimum time in milliseconds between actions being run. Defaults to 5000.

### Read-Only

- `id` (String) Internal identifier of the resource.

## Import

Import is supported using the following syntax:

```shell
terraform import elasticstack_elasticsearch_watcher_watch.watch_id <cluster_uuid>/<watch ID>
```
