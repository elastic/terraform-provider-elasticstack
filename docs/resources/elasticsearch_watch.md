
---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "elasticstack_elasticsearch_watch Resource - terraform-provider-elasticstack"
subcategory: "Elasticsearch"
description: |-
  Manage Watches. See, https://www.elastic.co/guide/en/elasticsearch/reference/current/watcher-api.html
---

# elasticstack_elasticsearch_watch (Resource)

Manage Watches. See, https://www.elastic.co/guide/en/elasticsearch/reference/current/watcher-api.html

## Example Usage

```terraform
provider "elasticstack" {
  elasticsearch {}
}

resource "elasticstack_elasticsearch_watch" "example" {
  watch_id = "test_watch"
  active   = true

  trigger = jsonencode({
    "schedule" = {
      "cron" = "0 0/1 * * * ?"
    }
  })
  input = jsonencode({
    "none" = {}
  })
  condition = jsonencode({
    "always" = {}
  })
  actions = jsonencode({})
  metadata = jsonencode({
    "example_key" = "example_value"
  })
  transform = jsonencode({
    "script" = "return [ 'time' : ctx.trigger.scheduled_time ]"
  })
  throttle_period_in_millis = 10000
}

output "watch" {
  value = elasticstack_elasticsearch_watch.example.watch_id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `trigger` (String) The trigger that defines when the watch should run.
- `watch_id` (String) Identifier for the watch.

### Optional

- `actions` (String) The list of actions that will be run if the condition matches.
- `active` (Boolean) Defines whether the watch is active or inactive by default. The default value is true, which means the watch is active by default.
- `condition` (String) The condition that defines if the actions should be run.
- `input` (String) The input that defines the input that loads the data for the watch.
- `metadata` (String) Metadata json that will be copied into the history entries.
- `throttle_period_in_millis` (Number) Minimum time in milliseconds between actions being run. Defaults to 5000.
- `transform` (String) Processes the watch payload to prepare it for the watch actions.

### Read-Only

- `id` (String) Internal identifier of the resource.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import elasticstack_elasticsearch_watch.watch_id <cluster_uuid>/<watch ID>
```
