---
subcategory: "Kibana"
layout: ""
page_title: "Elasticstack: elasticstack_kibana_synthetics_monitor Resource"
description: |-
  Creates or updates a Kibana synthetics monitor.
---

# Resource: elasticstack_kibana_synthetics_monitor

Creates or updates a Kibana synthetics monitor.
See [API docs](https://www.elastic.co/guide/en/kibana/current/add-monitor-api.html)

## Supported monitor types
 * `http`
 * `tcp`
 * `icmp`
 * `browser`

**NOTE:** Due-to nature of partial update API, reset values to defaults is not supported.
In case you would like to reset an optional monitor value, please set it explicitly or delete and create new monitor.


## Example Usage

```terraform
provider "elasticstack" {
  kibana {}
}

resource "elasticstack_kibana_synthetics_monitor" "my_monitor" {
  name      = "Example http monitor"
  space_id  = "default"
  schedule  = 10
  locations = ["us_west"]
  enabled   = false
  tags      = ["tag"]
  alert = {
    status = {
      enabled = true
    }
    tls = {
      enabled = false
    }
  }
  service_name = "example apm service"
  timeout      = 30
  http = {
    url                     = "http://localhost:8080"
    ssl_verification_mode   = "full"
    ssl_supported_protocols = ["TLSv1.2"]
    max_redirects           = "10"
    mode                    = "all"
    ipv4                    = true
    ipv6                    = true
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The monitor’s name.

### Optional

- `alert` (Attributes) Alert configuration. Default: `{ status: { enabled: true }, tls: { enabled: true } }`. (see [below for nested schema](#nestedatt--alert))
- `browser` (Attributes) Browser Monitor specific fields (see [below for nested schema](#nestedatt--browser))
- `enabled` (Boolean) Whether the monitor is enabled. Default: `true`
- `http` (Attributes) HTTP Monitor specific fields (see [below for nested schema](#nestedatt--http))
- `icmp` (Attributes) ICMP Monitor specific fields (see [below for nested schema](#nestedatt--icmp))
- `locations` (List of String) Where to deploy the monitor. Monitors can be deployed in multiple locations so that you can detect differences in availability and response times across those locations.
- `params` (String) Monitor parameters. Raw JSON object, use `jsonencode` function to represent JSON
- `private_locations` (List of String) These Private Locations refer to locations hosted and managed by you, whereas locations are hosted by Elastic. You can specify a Private Location using the location’s name.
- `retest_on_failure` (Boolean) Enable or disable retesting when a monitor fails. By default, monitors are automatically retested if the monitor goes from "up" to "down". If the result of the retest is also "down", an error will be created, and if configured, an alert sent. Then the monitor will resume running according to the defined schedule. Using retest_on_failure can reduce noise related to transient problems. Default: `true`.
- `schedule` (Number) The monitor’s schedule in minutes. Supported values are 1, 3, 5, 10, 15, 30, 60, 120 and 240.
- `service_name` (String) The APM service name.
- `space_id` (String) The namespace field should be lowercase and not contain spaces. The namespace must not include any of the following characters: *, \, /, ?, ", <, >, |, whitespace, ,, #, :, or -. Default: `default`
- `tags` (List of String) An array of tags.
- `tcp` (Attributes) TCP Monitor specific fields (see [below for nested schema](#nestedatt--tcp))
- `timeout` (Number) The monitor timeout in seconds, monitor will fail if it doesn’t complete within this time. Default: `16`

### Read-Only

- `id` (String) Generated identifier for the monitor

<a id="nestedatt--alert"></a>
### Nested Schema for `alert`

Optional:

- `status` (Attributes) (see [below for nested schema](#nestedatt--alert--status))
- `tls` (Attributes) (see [below for nested schema](#nestedatt--alert--tls))

<a id="nestedatt--alert--status"></a>
### Nested Schema for `alert.status`

Optional:

- `enabled` (Boolean)


<a id="nestedatt--alert--tls"></a>
### Nested Schema for `alert.tls`

Optional:

- `enabled` (Boolean)



<a id="nestedatt--browser"></a>
### Nested Schema for `browser`

Required:

- `inline_script` (String) The inline script.

Optional:

- `ignore_https_errors` (Boolean) Whether to ignore HTTPS errors.
- `playwright_options` (String) Playwright options.. Raw JSON object, use `jsonencode` function to represent JSON
- `screenshots` (String) Controls the behavior of the screenshots feature.
- `synthetics_args` (List of String) Synthetics agent CLI arguments.


<a id="nestedatt--http"></a>
### Nested Schema for `http`

Required:

- `url` (String) URL to monitor.

Optional:

- `check` (String) The check request settings.. Raw JSON object, use `jsonencode` function to represent JSON
- `ipv4` (Boolean) Whether to ping using the ipv4 protocol.
- `ipv6` (Boolean) Whether to ping using the ipv6 protocol.
- `max_redirects` (Number) The maximum number of redirects to follow. Default: `0`
- `mode` (String) The mode of the monitor. Can be "all" or "any". If you’re using a DNS-load balancer and want to ping every IP address for the specified hostname, you should use all.
- `password` (String) The password for authenticating with the server. The credentials are passed with the request.
- `proxy_header` (String) Additional headers to send to proxies during CONNECT requests.. Raw JSON object, use `jsonencode` function to represent JSON
- `proxy_url` (String) The URL of the proxy to use for this monitor.
- `response` (String) Controls the indexing of the HTTP response body contents to the `http.response.body.contents` field.. Raw JSON object, use `jsonencode` function to represent JSON
- `ssl_supported_protocols` (List of String) List of allowed SSL/TLS versions.
- `ssl_verification_mode` (String) Controls the verification of server certificates.
- `username` (String) The username for authenticating with the server. The credentials are passed with the request.


<a id="nestedatt--icmp"></a>
### Nested Schema for `icmp`

Required:

- `host` (String) Host to ping; it can be an IP address or a hostname.

Optional:

- `wait` (Number) Wait time in seconds. Default: `1`


<a id="nestedatt--tcp"></a>
### Nested Schema for `tcp`

Required:

- `host` (String) The host to monitor; it can be an IP address or a hostname. The host can include the port using a colon (e.g., "example.com:9200").

Optional:

- `check_receive` (String) The expected answer.
- `check_send` (String) An optional payload string to send to the remote host.
- `proxy_url` (String) The URL of the SOCKS5 proxy to use when connecting to the server. The value must be a URL with a scheme of `socks5://`. If the SOCKS5 proxy server requires client authentication, then a username and password can be embedded in the URL. When using a proxy, hostnames are resolved on the proxy server instead of on the client. You can change this behavior by setting the `proxy_use_local_resolver` option.
- `proxy_use_local_resolver` (Boolean) A Boolean value that determines whether hostnames are resolved locally instead of being resolved on the proxy server. The default value is false, which means that name resolution occurs on the proxy server.
- `ssl_supported_protocols` (List of String) List of allowed SSL/TLS versions.
- `ssl_verification_mode` (String) Controls the verification of server certificates.

## Import

Import is supported using the following syntax:

```shell
terraform import elasticstack_kibana_synthetics_monitor.my_monitor <space id>/<monitor_id>
```

**NOTE:** Not all monitor fields are supported during the import due-to API limitation.
Full field support could be implemented after this [kibana issue](https://github.com/elastic/kibana/issues/189906) is resolved.

Currently not supported fields during the import:  `params`, `retest_on_failure`, `locations`, `http.proxy_header`, `http.username`, `http.password`, `http.check`, `http.response`, `tcp.check_send`, `tcp.check_receive` and monitor type `browser`
