---
layout: ""
page_title: "Provider: Elasticstack"
description: |-
  The Elasticstack provider provides the resources to interact with Elastic stack products.
---

# Elasticstack Provider

The Elasticstack provider provides the resources to interact with Elastic stack products.


It is recommended to setup at least minimum security, https://www.elastic.co/guide/en/elasticsearch/reference/current/security-minimal-setup.html
in order to interact with the Elasticsearch and be able to use the provider's full capabilities


## Authentication

The Elasticstack provider offers few different ways of providing credentials for authentication.
The following methods are supported:

* Static credentials
* Environment variables
* Each `elasticsearch` resource supports an `elasticsearch_connection` block, allowing use of the same provider to configure many different clusters at the same time


### Static credentials

#### Elasticsearch

Default static credentials can be provided by adding the `username`, `password` and `endpoints` in the `elasticsearch` block:

```terraform
provider "elasticstack" {
  elasticsearch {
    username  = "elastic"
    password  = "changeme"
    endpoints = ["http://localhost:9200"]
  }
}
```

Alternatively an `api_key` can be specified instead of `username` and `password`:

```terraform
provider "elasticstack" {
  elasticsearch {
    api_key   = "base64encodedapikeyhere=="
    endpoints = ["http://localhost:9200"]
  }
}
```

#### Kibana

Default static credentials can be provided by adding the `username`, `password` and `endpoints` in the `kibana` block:

```terraform
provider "elasticstack" {
  kibana {
    username  = "elastic"
    password  = "changeme"
    endpoints = ["http://localhost:5601"]
  }
}
```

If no credentials are supplied the provider will fall back to using those provided in the `elasticsearch` block.

### Environment Variables

The provider configuration can be specified through environment variables.

For Elasticsearch resources, you can use the following variables:
- `ELASTICSEARCH_USERNAME` - The username to use for Elasticsearch authentication
- `ELASTICSEARCH_PASSWORD` - The password to use for Elasticsearch authentication
- `ELASTICSEARCH_ENDPOINTS` - A comma separated list of Elasticsearch hosts to connect to
- `ELASTICSEARCH_API_KEY` - An Elasticsearch API key to use instead of `ELASTICSEARCH_USERNAME` and `ELASTICSEARCH_PASSWORD`

Kibana resources will re-use any Elasticsearch credentials specified, these may be overridden with the following variables:
- `KIBANA_USERNAME` - The username to use for Kibana authentication
- `KIBANA_PASSWORD` - The password to use for Kibana authentication
- `KIBANA_ENDPOINT` - The Kibana host to connect to

Fleet resources will re-use any Kibana or Elasticsearch credentials specified, these may be overridden with the following variables:
- `FLEET_USERNAME` - The username to use for Kibana authentication
- `FLEET_PASSWORD` - The password to use for Kibana authentication
- `FLEET_ENDPOINT` - The Kibana host to connect to. ** Note the Fleet API is hosted within Kibana. This must be a Kibana HTTP host **
- `FLEET_API_KEY` - API key to use for authentication to Fleet

```terraform
provider "elasticstack" {
  elasticsearch {}
  kibana {}
}
```


### Per resource credentials

See docs related to the specific resources.


## Example Usage

```terraform
provider "elasticstack" {
  elasticsearch {
    username  = "elastic"
    password  = "changeme"
    endpoints = ["http://localhost:9200"]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `elasticsearch` (Block List, Max: 1) Elasticsearch connection configuration block. (see [below for nested schema](#nestedblock--elasticsearch))
- `fleet` (Block List, Max: 1) Fleet connection configuration block. (see [below for nested schema](#nestedblock--fleet))
- `kibana` (Block List, Max: 1) Kibana connection configuration block. (see [below for nested schema](#nestedblock--kibana))

<a id="nestedblock--elasticsearch"></a>
### Nested Schema for `elasticsearch`

Optional:

- `api_key` (String, Sensitive) API Key to use for authentication to Elasticsearch
- `ca_data` (String) PEM-encoded custom Certificate Authority certificate
- `ca_file` (String) Path to a custom Certificate Authority certificate
- `cert_data` (String) PEM encoded certificate for client auth
- `cert_file` (String) Path to a file containing the PEM encoded certificate for client auth
- `endpoints` (List of String, Sensitive) A list of endpoints where the terraform provider will point to, this must include the http(s) schema and port number.
- `insecure` (Boolean) Disable TLS certificate validation
- `key_data` (String, Sensitive) PEM encoded private key for client auth
- `key_file` (String) Path to a file containing the PEM encoded private key for client auth
- `password` (String, Sensitive) Password to use for API authentication to Elasticsearch.
- `username` (String) Username to use for API authentication to Elasticsearch.


<a id="nestedblock--fleet"></a>
### Nested Schema for `fleet`

Optional:

- `api_key` (String, Sensitive) API key to use for API authentication to Fleet.
- `ca_certs` (List of String) A list of paths to CA certificates to validate the certificate presented by the Fleet server.
- `endpoint` (String, Sensitive) The Fleet server where the terraform provider will point to, this must include the http(s) schema and port number.
- `insecure` (Boolean) Disable TLS certificate validation
- `password` (String, Sensitive) Password to use for API authentication to Fleet.
- `username` (String) Username to use for API authentication to Fleet.


<a id="nestedblock--kibana"></a>
### Nested Schema for `kibana`

Optional:

- `endpoints` (List of String, Sensitive) A list of endpoints where the terraform provider will point to, this must include the http(s) schema and port number.
- `insecure` (Boolean) Disable TLS certificate validation
- `password` (String, Sensitive) Password to use for API authentication to Kibana.
- `username` (String) Username to use for API authentication to Kibana.
